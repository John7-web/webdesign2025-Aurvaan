<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Venus</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      min-height: 100%;
      overflow-x: hidden;
      background: #000;
      color: #ddd;
      font-family: system-ui, sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* 3D viewer container */
    #viewer {
      width: 100%;
      height: 60vh;
      min-height: 420px;
      position: relative;
      background: radial-gradient(ellipse at center, #120708 0%, #000 60%);
      overflow: hidden;
      transition: height 360ms ease;
    }

    #info {
      position: absolute;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      color: #ccc;
      font-size: 13px;
      opacity: 0.95;
      z-index: 10;
      text-align: center;
      pointer-events: none;
    }

    /* Research / content area */
    #content {
      max-width: 920px;
      margin: 24px auto 72px;
      padding: 20px 22px;
      background: rgba(255,255,255,0.02);
      border-radius: 8px;
      box-shadow: 0 6px 30px rgba(0,0,0,0.6);
      color: #ddd;
      line-height: 1.6;
    }

    #content h1, #content h2 { color: #fff; margin: 0.8rem 0 0.4rem; }
    #content p, #content ul { margin: 0.5rem 0; color: #cfd8dc; }
    #content ul { padding-left: 1.2rem; }
    #content small { color: #9ea7ab; }
  </style>
</head>
<body>
<div id="viewer">
  <div id="info">Venus<br>Drag = rotate • Scroll = zoom</div>
</div>

<div id="content">
  <h1>Venus — In-depth Overview</h1>
  <p>Venus is Earth's nearest planetary neighbor and similar in size and composition, but its extreme atmosphere and surface conditions make it an inhospitable world. This section summarizes Venus’ formation, internal structure, atmosphere, surface geology, rotation, magnetic environment, and exploration.</p>

  <h2>Formation & Evolution</h2>
  <p>Venus formed about 4.5 billion years ago from the same protoplanetary material as Earth. Its evolution diverged due to factors like proximity to the Sun, atmospheric composition, and possible early runaway greenhouse effects.</p>

  <h2>Internal Structure</h2>
  <p>Venus has a layered interior with a metallic core, silicate mantle, and a rocky crust. Its size and mass are similar to Earth, suggesting comparable internal differentiation, although tectonic activity appears different.</p>

  <h2>Atmosphere & Greenhouse</h2>
  <p>Venus has a dense CO₂-dominated atmosphere (~96.5% CO₂) with thick sulfuric-acid clouds. Surface pressure is about 92 times Earth's, and a runaway greenhouse effect produces average surface temperatures around 462 °C.</p>

  <h2>Surface & Geology</h2>
  <p>Venus' surface is dominated by volcanic plains, large shield volcanoes, and tectonic features. The lack of plate tectonics as on Earth results in different surface recycling mechanisms and widespread volcanic resurfacing.</p>

  <h2>Rotation & Orbit</h2>
  <p>Venus rotates slowly and retrograde (rotation period ~243 Earth days), so a Venusian day is longer than its year (~225 Earth days). Its slow rotation affects atmospheric circulation and weather patterns.</p>

  <h2>Magnetic Environment</h2>
  <p>Venus lacks a strong intrinsic global magnetic field like Earth's; instead it interacts with the solar wind to produce an induced magnetosphere and dynamic ionosphere.</p>

  <h2>Exploration & Science</h2>
  <p>Venus has been explored by flybys and landers (Venera series, Magellan radar mapping). Ongoing and proposed missions aim to study its atmosphere, surface, and potential geological activity.</p>

  <h2>Quick Facts</h2>
  <ul>
    <li>Mean radius: ~6,052 km</li>
    <li>Mass: ~4.87 × 10<sup>24</sup> kg</li>
    <li>Surface temperature: ~462 °C (average)</li>
    <li>Main atmospheric gas: CO₂ (~96.5%)</li>
    <li>Rotation period: ~243 Earth days (retrograde)</li>
  </ul>

  <p><small>Sources: NASA Magellan mission data, ESA Venus Express, peer-reviewed planetary science literature.</small></p>
</div>

<!-- Three.js r124 (NO modules) -->
<script src="https://cdn.jsdelivr.net/npm/three@0.124.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.124.0/examples/js/controls/OrbitControls.js"></script>

<script>
  var scene = new THREE.Scene();

  var camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 5000);
  camera.position.set(0, 1.6, 6);

  var viewer = document.getElementById('viewer');

  var renderer = new THREE.WebGLRenderer({ antialias: true });
  renderer.setSize(viewer.clientWidth, viewer.clientHeight);
  renderer.setPixelRatio(window.devicePixelRatio);
  renderer.outputEncoding = THREE.sRGBEncoding;
  renderer.domElement.style.display = 'block';
  viewer.appendChild(renderer.domElement);

  // Ensure camera uses viewer aspect ratio
  camera.aspect = viewer.clientWidth / viewer.clientHeight;
  camera.updateProjectionMatrix();

  var controls = new THREE.OrbitControls(camera, renderer.domElement);
  controls.enableDamping = true;
  controls.enablePan = false; 

  // ===================== LIGHTING =====================

  var sunLight = new THREE.DirectionalLight(0xffffff, 2.5);
  scene.add(sunLight);
  scene.add(new THREE.AmbientLight(0x111111));

  // ===================== SUN =====================

  var sun = new THREE.Mesh(
    new THREE.SphereGeometry(0, 0, 0),
    new THREE.MeshBasicMaterial({
      map: new THREE.TextureLoader().load('https://threejs.org/examples/textures/planets/sun.jpg')
    })
  );
  scene.add(sun);

  // ===================== Mars =====================

  var loader = new THREE.TextureLoader();

  var venus = new THREE.Mesh(
    new THREE.SphereGeometry(0.8, 64, 64),
    new THREE.MeshPhongMaterial({
      map: loader.load('https://static.turbosquid.com/Preview/2016/08/14__16_39_07/Venus_2k_Color_Preview_v001.jpgC7B5F895-41D6-4647-8A53-96067886698COriginal.jpg'),
      normalMap: loader.load('https://tse3.mm.bing.net/th/id/OIP.Keb6k3Mi-rV6i1v8h-IXRgHaHa?cb=ucfimg2&ucfimg=1&w=826&h=826&rs=1&pid=ImgDetMain&o=7&rm=3')
    })
  );
  // keep planet geometry & texture unchanged; Venus rotation is retrograde (cosmetic)
  venus.rotation.z = THREE.Math.degToRad(177.36);
  scene.add(venus);

  // ===================== NO NIGHT TEXTURE =====================

  // City/night texture removed completely

  var cityLights = null;

  // ===================== STARS =====================

  var starsGeo = new THREE.BufferGeometry();
  var starCount = 12000;
  var positions = new Float32Array(starCount * 3);

  for (var i = 0; i < starCount * 3; i++) {
    positions[i] = (Math.random() - 0.5) * 4000;
  }

  starsGeo.setAttribute('position', new THREE.BufferAttribute(positions, 3));

  var stars = new THREE.Points(
    starsGeo,
    new THREE.PointsMaterial({
      color: 0xffffff,
      size: 0.7,
      sizeAttenuation: true
    })
  );

  scene.add(stars);

  // ===================== ASTRONOMY =====================

  var cycleStart = Date.now();
  var CYCLE_DURATION = 15000;

  function updateSun() {
    var elapsed = (Date.now() - cycleStart) % CYCLE_DURATION;
    var angle = (elapsed / CYCLE_DURATION) * Math.PI * 2;

    var x = Math.cos(angle) * 10;
    var z = Math.sin(angle) * 10;

    sun.position.set(x, 0, z);
    sunLight.position.copy(sun.position);

    var dayFactor = THREE.Math.clamp((x / 10 + 1) / 2, 0, 1);
    // no night texture to fade
  }

  // ===================== RESIZE =====================

  window.addEventListener('resize', function () {
    renderer.setSize(viewer.clientWidth, viewer.clientHeight);
    camera.aspect = viewer.clientWidth / viewer.clientHeight;
    camera.updateProjectionMatrix();
  });

  // ===================== LOOP =====================

  function animate() {
    requestAnimationFrame(animate);

    venus.rotation.y += 0.0007;

    venus.position.set(0, 0, 0);
    // no night texture

    updateSun();

    controls.update();
    renderer.render(scene, camera);
  }

  animate();
</script>
</body>
</html>
