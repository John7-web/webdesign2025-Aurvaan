<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Mercury</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      min-height: 100%;
      overflow-x: hidden;
      background: #000;
      color: #ddd;
      font-family: system-ui, sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* 3D viewer container */
    #viewer {
      width: 100%;
      height: 60vh;
      min-height: 420px;
      position: relative;
      background: radial-gradient(ellipse at center, #02030a 0%, #000 60%);
      overflow: hidden;
      transition: height 360ms ease;
    }

    #info {
      position: absolute;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      color: #ccc;
      font-size: 13px;
      opacity: 0.95;
      z-index: 10;
      text-align: center;
      pointer-events: none;
    }

    /* Research / content area */
    #content {
      max-width: 920px;
      margin: 24px auto 72px;
      padding: 20px 22px;
      background: rgba(255,255,255,0.02);
      border-radius: 8px;
      box-shadow: 0 6px 30px rgba(0,0,0,0.6);
      color: #ddd;
      line-height: 1.6;
    }

    #content h1, #content h2 { color: #fff; margin: 0.8rem 0 0.4rem; }
    #content p, #content ul { margin: 0.5rem 0; color: #cfd8dc; }
    #content ul { padding-left: 1.2rem; }
    #content small { color: #9ea7ab; }
  </style>
</head>
<body>
<div id="viewer">
  <div id="info">Mercury<br>Drag = rotate • Scroll = zoom</div>
</div>

<div id="content">
  <h1>Mercury — In-depth Overview</h1>
  <p>Mercury is the innermost planet in the Solar System. It's a small, rocky planet with a heavily cratered surface and an extreme thermal environment due to its proximity to the Sun. This section summarizes Mercury's origin, interior, surface, exosphere, magnetosphere, and exploration history.</p>

  <h2>Formation & Evolution</h2>
  <p>Mercury formed around 4.5 billion years ago from the protoplanetary disk. Its high metal-to-silicate ratio suggests a history of significant melting and possible giant impacts that stripped outer silicate layers.</p>

  <h2>Internal Structure</h2>
  <p>Mercury has a disproportionately large iron core (~85% of planetary radius is the mantle+crust, core radius is large relative to planet size), possibly with a partially liquid outer core that generates a weak but detectable magnetic field.</p>

  <h2>Surface & Geology</h2>
  <p>The surface is dominated by impact craters, intercrater plains, and scarps (lobate thrust faults) formed during planetary cooling and contraction. Mercury's surface shows evidence of ancient volcanic activity and tectonic deformation.</p>

  <h2>Exosphere & Magnetosphere</h2>
  <p>Mercury has a tenuous exosphere composed of atoms sputtered from the surface (sodium, potassium, oxygen, and others). Despite its small size, Mercury has a global magnetic field thought to be generated by dynamo action in a partially molten core.</p>

  <h2>Orbit & Thermal Environment</h2>
  <p>Mercury has a highly eccentric orbit with a 3:2 spin-orbit resonance (three rotations every two orbits). Surface temperatures range from very hot on the day side to extremely cold at night, with polar regions that can host water ice in permanently shadowed craters.</p>

  <h2>Exploration & Science</h2>
  <p>Explored by Mariner 10 and later by MESSENGER (orbiter). MESSENGER revealed detailed maps of Mercury’s composition, geology, and magnetic field; BepiColombo is currently en route to expand these findings.</p>

  <h2>Quick Facts</h2>
  <ul>
    <li>Mean radius: ~2,440 km</li>
    <li>Mass: ~3.30 × 10<sup>23</sup> kg</li>
    <li>Rotation period: ~58.6 days (sidereal)</li>
    <li>Main composition: rocky (iron core, silicate mantle)</li>
    <li>Surface gravity: ~0.38 g</li>
  </ul>

  <p><small>Sources: NASA MESSENGER mission data, ESA BepiColombo mission, peer-reviewed planetary science research.</small></p>
</div>

<!-- Three.js r124 (NO modules) -->
<script src="https://cdn.jsdelivr.net/npm/three@0.124.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.124.0/examples/js/controls/OrbitControls.js"></script>

<script>
  var scene = new THREE.Scene();

  var camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 5000);
  camera.position.set(0, 1.6, 6);

  var viewer = document.getElementById('viewer');

  var renderer = new THREE.WebGLRenderer({ antialias: true });
  renderer.setSize(viewer.clientWidth, viewer.clientHeight);
  renderer.setPixelRatio(window.devicePixelRatio);
  renderer.outputEncoding = THREE.sRGBEncoding;
  renderer.domElement.style.display = 'block';
  viewer.appendChild(renderer.domElement);

  // Ensure camera uses viewer aspect ratio
  camera.aspect = viewer.clientWidth / viewer.clientHeight;
  camera.updateProjectionMatrix();

  var controls = new THREE.OrbitControls(camera, renderer.domElement);
  controls.enableDamping = true;
  controls.enablePan = false;

  // ===================== LIGHTING =====================

  var sunLight = new THREE.DirectionalLight(0xffffff, 2.5);
  scene.add(sunLight);
  scene.add(new THREE.AmbientLight(0x111111));

  // ===================== SUN =====================

  var sun = new THREE.Mesh(
    new THREE.SphereGeometry(0, 0, 0),
    new THREE.MeshBasicMaterial({
      map: new THREE.TextureLoader().load('https://threejs.org/examples/textures/planets/sun.jpg')
    })
  );
  scene.add(sun);

  // ===================== Mars =====================

  var loader = new THREE.TextureLoader();

  var mercury = new THREE.Mesh(
    new THREE.SphereGeometry(0.7, 64, 64),
    new THREE.MeshPhongMaterial({
      map: loader.load('https://cdn.pixabay.com/photo/2020/02/04/17/08/map-4818866_960_720.jpg'),
      normalMap: loader.load('https://tse3.mm.bing.net/th/id/OIP.Keb6k3Mi-rV6i1v8h-IXRgHaHa?cb=ucfimg2&ucfimg=1&w=826&h=826&rs=1&pid=ImgDetMain&o=7&rm=3')
    })
  );
  // keep original geometry & texture; Mercury axial tilt is small and not altered here
  mercury.rotation.z = THREE.Math.degToRad(0.034);
  scene.add(mercury);

  // ===================== NO NIGHT TEXTURE =====================

  // City/night texture removed completely

  var cityLights = null;

  // ===================== STARS =====================

  var starsGeo = new THREE.BufferGeometry();
  var starCount = 12000;
  var positions = new Float32Array(starCount * 3);

  for (var i = 0; i < starCount * 3; i++) {
    positions[i] = (Math.random() - 0.5) * 4000;
  }

  starsGeo.setAttribute('position', new THREE.BufferAttribute(positions, 3));

  var stars = new THREE.Points(
    starsGeo,
    new THREE.PointsMaterial({
      color: 0xffffff,
      size: 0.7,
      sizeAttenuation: true
    })
  );

  scene.add(stars);

  // ===================== ASTRONOMY =====================

  var cycleStart = Date.now();
  var CYCLE_DURATION = 15000;

  function updateSun() {
    var elapsed = (Date.now() - cycleStart) % CYCLE_DURATION;
    var angle = (elapsed / CYCLE_DURATION) * Math.PI * 2;

    var x = Math.cos(angle) * 10;
    var z = Math.sin(angle) * 10;

    sun.position.set(x, 0, z);
    sunLight.position.copy(sun.position);

    var dayFactor = THREE.Math.clamp((x / 10 + 1) / 2, 0, 1);
    // no night texture to fade
  }

  // ===================== RESIZE =====================

  window.addEventListener('resize', function () {
    renderer.setSize(viewer.clientWidth, viewer.clientHeight);
    camera.aspect = viewer.clientWidth / viewer.clientHeight;
    camera.updateProjectionMatrix();
  });

  // ===================== LOOP =====================

  function animate() {
    requestAnimationFrame(animate);

    mercury.rotation.y += 0.0007;

    mercury.position.set(0, 0, 0);
    // no night texture

    updateSun();

    controls.update();
    renderer.render(scene, camera);
  }

  animate();
</script>
</body>
</html>
